
# 项目文档
##【凯利指数计算方法】
意义：凯利指数反映出来的数值为该项赔率所存在的市场赔付风险，即动态市场与事前确立的赔付率之间的赔付差异。  
概述：该公司的即时赔率和对应市场平均胜/平/负概率的乘积。  

凯利指数公式：  
胜=胜赔x欧平均胜率  
平=平赔x欧平均平率  
负=负赔x欧平均负率  

欧平均胜/平/负率公式：  
（以欧平均胜率为例）  
欧平均胜率=(p31+p32+….p3n)/n  
p31是第一家公司的主胜率···p3n是第n家公司的主胜率  

胜/平/负率公式：  
（以欧主胜率为例）  
主胜率=返还率/胜赔  

返还率公式：  
返还率=（胜赔x平赔x负赔）/（胜赔x平赔+平赔x负赔+胜赔x负赔）  

##【指数转换 python代码示例】
```
# 转换成文字型
def odds_to_text(goal):
    goal_cn = [
        "平手", "平/半", "半球", "半/一", "一球", "一/球半", "球半", "球半/两", "两球", "两/两球半", "两球半", "两球半/三", "三球", "三/三球半",
        "三球半", "三球半/四球", "四球", "四/四球半", "四球半", "四球半/五", "五球", "五/五球半", "五球半", "五球半/六", "六球", "六/六球半", "六球半",
        "六球半/七", "七球", "七/七球半", "七球半", "七球半/八", "八球", "八/八球半", "八球半", "八球半/九", "九球", "九/九球半", "九球半", "九球半/十",
        "十球"
    ]
    if not goal or goal == '.':
        return ''
    else:
        if goal > 10 or goal < -10:
            return '%s球'
        elif goal >= 0:
            return goal_cn[abs(int(goal * 4))]
        else:
            return '受%s' % goal_cn[abs(int(goal * 4))]
# 转换成数字型
def odds_to_num(goal):
    goal_cn = [
        "0", "0/0.5", "0.5", "0.5/1", "1", "1/1.5", "1.5", "1.5/2", "2", "2/2.5", "2.5", "2.5/3", "3", "3/3.5",
        "3.5", "3.5/4", "4", "4/4.5", "4.5", "4.5/5", "5", "5/5.5", "5.5", "5.5/6", "6", "6/6.5", "6.5",
        "6.5/7", "7", "7/7.5", "7.5", "7.5/8", "8", "8/8.5", "8.5", "8.5/9", "9", "9/9.5", "9.5", "9.5/10",
        "10", "10/10.5", "10.5", "10.5/11", "11", "11/11.5", "11.5", "11.5/12", "12", "12/12.5", "12.5",
        "12.5/13", "13", "13/13.5", "13.5", "13.5/14", "14"
    ]
    if not goal or goal == '.':
        return ''
    else:
        if goal > 14:
            return '%s球'
        else:
            return goal_cn[abs(int(goal * 4))]

```